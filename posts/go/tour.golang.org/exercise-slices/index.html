<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><style type=text/css>body{font-family:monospace}</style><style>a{text-decoration:none}</style><title>A Tour of Go - Exercise: Slices</title><link rel=stylesheet href=/css/style.css></head><body><header>------------<br>-- <a href=https://jugggao.github.io/>å‰‘åä¸‰</a> --<br>------------<div style=float:right>ä¸å…¶æ„Ÿæ…¨è·¯éš¾è¡Œï¼Œä¸å¦‚é©¬ä¸Šå‡ºå‘</div><br><p><nav>| <a href=/><b>ä¸»é¡µ</b></a> |
<a href=/posts/><b>æ–‡æ¡£</b></a> |
<a href=/categories/><b>åˆ†ç±»</b></a> |
<a href=/tags/><b>æ ‡ç­¾</b></a> |
<a href=/about/><b>å…³äº</b></a> |</nav></p></header><main><article><h1>A Tour of Go - Exercise: Slices</h1><b><time>10.11.2020</time></b> |
<a href=/tags/go>Go</a>.
<a href=/tags/a-tour-of-go>A Tour of Go</a>.
<a href=/tags/exercise>Exercise</a>.<div><h3 id=exercise-sliceshttpstourgolangorgmoretypes18><a href=https://tour.golang.org/moretypes/18>Exercise: Slices</a></h3><p>Implement Pic. It should return a slice of length <code>dy</code>, each element of which is a slice of <code>dx</code> 8-bit unsigned integers. When you run the program, it will display your picture, interpreting the integers as grayscale (well, bluescale) values.</p><p>The choice of image is up to you. Interesting functions include <code>(x+y)/2</code>, <code>x*y</code>, and <code>x^y</code>.</p><p>(You need to use a loop to allocate each <code>[]uint8</code> inside the <code>[][]uint8</code>.)</p><p>(Use <code>uint8(intValue)</code> to convert between types.)</p><hr><h3 id=1-è§£é¢˜>1. è§£é¢˜</h3><p>è¿™é“é¢˜å®˜ç½‘æä¾›äº†ä¸€ä¸ª<a href=https://github.com/golang/tour/blob/4bb7d986198d/pic/pic.go>ç”»å›¾å‡½æ•°</a> <code>pic.Show</code>ï¼Œå¯ä»¥ç”Ÿæˆå›¾ç‰‡ã€‚</p><p><code>pic.Show</code> <a href=https://pkg.go.dev/golang.org/x/tour/pic#Show>è¯­æ³•</a>ä¸ºï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Show</span>(<span style=color:#a6e22e>f</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>dx</span>, <span style=color:#a6e22e>dy</span> <span style=color:#66d9ef>int</span>) [][]<span style=color:#66d9ef>uint8</span>)
</code></pre></div><p>å®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¦æ±‚çš„æ­£æ˜¯ç¼–å†™è¿™ä¸ªå‡½æ•°ã€‚</p><p>å›¾ç‰‡å¤„ç†ä¸€ç‚¹ä¸æ‡‚ ğŸ˜“ï¼Œæ‰€ä»¥åªèƒ½æŒ‰ç…§å®˜ç½‘ç»™çš„æç¤ºæ¥å®Œæˆã€‚</p><p>æ€è·¯ï¼š</p><ol><li>å®šä¹‰ä¸€ä¸ªå¤–å±‚ Slice é•¿åº¦ä¸º <code>dy</code>ï¼Œå­å…ƒç´ ä¹Ÿä¸º Sliceï¼Œä¸”å…ƒç´ é•¿åº¦ä¸º <code>dx</code>ã€‚</li><li>ç„¶åä½¿ç”¨ä¸¤å±‚ For å¾ªç¯åµŒå¥—æ¥è®¡ç®—é‡Œå±‚ Slice çš„å€¼ï¼Œé‡Œå±‚ Slice çš„å€¼æ ¹æ® <code>(x+y)/2</code>ã€<code>x*y</code> æˆ– <code>x^y</code> æ¥è®¡ç®—ã€‚</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;golang.org/x/tour/pic&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Pic</span>(<span style=color:#a6e22e>dx</span>, <span style=color:#a6e22e>dy</span> <span style=color:#66d9ef>int</span>) [][]<span style=color:#66d9ef>uint8</span> {
	<span style=color:#a6e22e>pixel</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>uint8</span>, <span style=color:#a6e22e>dy</span>)

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>pixel</span> {
        <span style=color:#a6e22e>data</span> <span style=color:#f92672>:=</span> make([]<span style=color:#66d9ef>uint8</span>, <span style=color:#a6e22e>dx</span>)
		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>data</span> {
			<span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>j</span>] = uint8((<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>j</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>)
		}
		<span style=color:#a6e22e>pixel</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>data</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pixel</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>pic</span>.<span style=color:#a6e22e>Show</span>(<span style=color:#a6e22e>Pic</span>)
}
</code></pre></div><p>å¾—å‡ºä¸€ä¸ª Base64 å­—ç¬¦ä¸²ï¼Œå¯æ·»åŠ è‡³æµè§ˆå™¨è¿›è¡ŒæŸ¥çœ‹ï¼š</p><pre><code>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAIAAADTED8xAAACaUlEQVR42uzVMRGAAAzAwLSHf8tgAAf95QVkyVNvNRN50FWBl10V6ABa0AFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIB6ADqEAHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdAA6gBZ0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIBSAcgHYB0ANIB6AAq0AFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgHQA0gFIByAdgA6gAh2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADSAUgHIB2AdADyxy8AAP//YSoDD5pLB7MAAAAASUVORK5CYII=
</code></pre><p><img src=/images/go/a-tour-of-go-exercise-slices.png alt></p><h3 id=2-å‚è€ƒ>2. å‚è€ƒ</h3><p>å‚è€ƒ A Tour of Go çš„ Github ä»“åº“ä¸­çš„<a href=https://github.com/golang/tour/blob/master/solutions/slices.go>ç­”æ¡ˆ</a>ï¼Œæ›´ç¬¦åˆæˆ‘çš„å®ç°æ€è·¯ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Pic</span>(<span style=color:#a6e22e>dx</span>, <span style=color:#a6e22e>dy</span> <span style=color:#66d9ef>int</span>) [][]<span style=color:#66d9ef>uint8</span> {
	<span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> make([][]<span style=color:#66d9ef>uint8</span>, <span style=color:#a6e22e>dy</span>)
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>p</span> {
		<span style=color:#a6e22e>p</span>[<span style=color:#a6e22e>i</span>] = make([]<span style=color:#66d9ef>uint8</span>, <span style=color:#a6e22e>dx</span>)
	}

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>row</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>p</span> {
		<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>row</span> {
			<span style=color:#a6e22e>row</span>[<span style=color:#a6e22e>x</span>] = uint8(<span style=color:#a6e22e>x</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>y</span>)
		}
	}

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>
}
</code></pre></div><p>å…ˆå®šä¹‰å¥½é‡Œå¤–å±‚ Slice ç»“æ„ï¼Œå†è¿›è¡Œè®¡ç®—ã€‚</p></div></article></main><aside><div><div><h3>æœ€è¿‘æ–‡ç« </h3></div><div><ul><li><a href=/posts/go/tour.golang.org/exercise-stringer/>A Tour of Go - Exercise: Stringers</a></li><li><a href=/posts/go/tour.golang.org/exercise-fibonacci-closure/>A Tour of Go - Exercise: Fibonacci closure</a></li><li><a href=/posts/jenkins/pipeline/groovy-%E7%9F%A5%E8%AF%86%E7%82%B9/>Jenkins Pipeline - Groovy çŸ¥è¯†ç‚¹</a></li><li><a href=/posts/go/tour.golang.org/exercise-maps/>A Tour of Go - Exercise: Maps</a></li><li><a href=/posts/go/tour.golang.org/exercise-slices/>A Tour of Go - Exercise: Slices</a></li></ul></div></div></aside><footer><p>| &copy; 2020 <a href=https://jugggao.github.io/><b>å‰‘åä¸‰</b></a> |
<a href=https://github.com/jugggao><b>Github</b></a> |</p></footer></body></html>