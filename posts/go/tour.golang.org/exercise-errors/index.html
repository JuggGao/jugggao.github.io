<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><style type=text/css>body{font-family:monospace}</style><style>a{text-decoration:none}</style><title>A Tour of Go - Exercise: Errors</title><link rel=stylesheet href=/css/style.css></head><body><header><a style=font-size:24px;font-family:宋体;float:contour;font-weight:700 class=header-title href=https://jugggao.github.io/>剑十三</a><br><div style=float:right;font-size:15px;font-weight:700>与其感慨路难行，不如马上出发</div><br><a class=nav href=/>主页.</a>
<a class=nav href=/posts/>文档.</a>
<a class=nav href=/categories/>分类.</a>
<a class=nav href=/tags/>标签.</a>
<a class=nav href=/about/>关于.</a></nav></p></header><main><article><h1>A Tour of Go - Exercise: Errors</h1><b><time>15.11.2020</time></b> |
<a href=/tags/go>Go</a>.
<a href=/tags/a-tour-of-go>A Tour of Go</a>.
<a href=/tags/exercise>Exercise</a>.<div><h3 id=exercise-errorshttpstourgolangorgmethods20><a href=https://tour.golang.org/methods/20>Exercise: Errors</a></h3><p>Copy your Sqrt function from the <a href=https://tour.golang.org/flowcontrol/8>earlier exercise</a> and modify it to return an <code>error</code> value.</p><p><code>Sqrt</code> should return a non-nil error value when given a negative number, as it doesn&rsquo;t support complex numbers.</p><p>Create a new type</p><pre><code>type ErrNegativeSqrt float64
</code></pre><p>and make it an error by giving it a</p><pre><code>func (e ErrNegativeSqrt) Error() string
</code></pre><p>method such that <code>ErrNegativeSqrt(-2).Error()</code> returns <code>"cannot Sqrt negative number: -2"</code>.</p><p>Note: A call to <code>fmt.Sprint(e)</code> inside the <code>Error</code> method will send the program into an infinite loop. You can avoid this by converting e first: <code>fmt.Sprint(float64(e))</code>. Why?</p><p>Change your <code>Sqrt</code> function to return an <code>ErrNegativeSqrt</code> value when given a negative number.</p><hr><h3 id=1-解题>1. 解题</h3></div></article></main><aside><div><div><h3>最近文章</h3></div><div><ul><li><a href=/posts/go/tour.golang.org/exercise-errors/>A Tour of Go - Exercise: Errors</a></li><li><a href=/posts/go/tour.golang.org/exercise-stringer/>A Tour of Go - Exercise: Stringers</a></li><li><a href=/posts/go/tour.golang.org/exercise-fibonacci-closure/>A Tour of Go - Exercise: Fibonacci closure</a></li><li><a href=/posts/jenkins/pipeline/groovy-%E7%9F%A5%E8%AF%86%E7%82%B9/>Jenkins Pipeline - Groovy 知识点</a></li><li><a href=/posts/go/tour.golang.org/exercise-maps/>A Tour of Go - Exercise: Maps</a></li></ul></div></div></aside><footer><p>&copy; 2020 <a href=https://jugggao.github.io/><b>剑十三.</b></a>
<a href=https://github.com/jugggao><b>Github.</b></a></p></footer></body></html>